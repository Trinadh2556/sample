<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gym Tracker</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      overflow-x: hidden;
      text-align: center;
    }

    /* LOGIN PAGE */
    #login-page {
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      color: white;
      overflow: hidden;
    }

    .login-bg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('https://images.pexels.com/photos/2261477/pexels-photo-2261477.jpeg') no-repeat center center/cover;
      filter: brightness(0.5);
      z-index: 0;
      animation: zoomPan 20s ease-in-out infinite alternate;
    }

    @keyframes zoomPan {
      0% { transform: scale(1) translate(0,0); }
      50% { transform: scale(1.05) translate(10px, -10px); }
      100% { transform: scale(1) translate(0,0); }
    }

    .login-box {
      position: relative;
      z-index: 1;
      background: rgba(34, 34, 34, 0.8);
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(255, 0, 0, 0.6);
      width: 300px;
    }

    .login-box h2 {
      margin-bottom: 20px;
      color: #ff4747;
    }
    .login-box input {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border: none;
      border-radius: 5px;
    }
    .login-box button {
      background: #ff4747;
      border: none;
      padding: 10px;
      margin: 5px;
      border-radius: 5px;
      color: white;
      cursor: pointer;
      width: 45%;
    }

    /* Navbar */
    #navbar {
      display: none;
      background: #222;
      padding: 10px;
      display: flex;
      justify-content: center;
      gap: 15px;
    }
    #navbar button {
      background: #ff4747;
      border: none;
      padding: 10px 15px;
      border-radius: 5px;
      cursor: pointer;
      color: white;
    }

    .page {
      display: none;
      padding: 20px;
      min-height: 100vh;
      opacity: 0;
      position: relative;
      transition: opacity 0.8s ease-in-out;
      color: white;
      overflow: hidden;
    }

    .active {
      display: block !important;
      opacity: 1;
    }

    input, select {
      padding: 10px;
      margin: 10px;
      border-radius: 5px;
      border: none;
      width: 200px;
    }
    ul {
      text-align: left;
      display: inline-block;
    }

    /* Page backgrounds */
    #home { background: #111; color: white; }
    #profile {
      background: url('https://images.pexels.com/photos/2261485/pexels-photo-2261485.jpeg') no-repeat center center/cover;
    }
    #diet {
      background: url('https://images.pexels.com/photos/1595385/pexels-photo-1595385.jpeg') no-repeat center center/cover;
    }
    #workout {
      background: url('https://images.pexels.com/photos/841130/pexels-photo-841130.jpeg') no-repeat center center/cover;
    }
    #tracker {
      background: url('https://images.pexels.com/photos/2294361/pexels-photo-2294361.jpeg') no-repeat center center/cover;
    }

    /* Overlay for readability */
    .page::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.3);
      z-index: 0;
    }
    .page > * {
      position: relative;
      z-index: 1;
    }
  </style>
</head>
<body>

  <!-- LOGIN PAGE -->
  <div id="login-page">
    <div class="login-bg"></div>
    <div class="login-box">
      <h2>üèãÔ∏è Gym Tracker</h2>
      <p>Login or Sign Up to continue your fitness journey</p>
      <input type="text" id="username" placeholder="Enter username">
      <input type="password" id="password" placeholder="Enter password">
      <div>
        <button onclick="login()">Login</button>
        <button onclick="signup()">Sign Up</button>
      </div>
    </div>
  </div>

  <!-- NAVBAR -->
  <div id="navbar">
    <button onclick="showPage('home')">Home</button>
    <button onclick="showPage('profile')">Profile</button>
    <button onclick="showPage('diet')">Diet</button>
    <button onclick="showPage('workout')">Workout</button>
    <button onclick="showPage('tracker')">Tracker</button>
    <button onclick="logout()">Logout</button>
  </div>

  <!-- HOME -->
  <div id="home" class="page">
    <h1>Welcome to Your Fitness Journey!</h1>
    <p>"Push yourself, because no one else is going to do it for you."</p>
    <img src="https://images.pexels.com/photos/841130/pexels-photo-841130.jpeg" width="70%">
  </div>

  <!-- PROFILE -->
  <div id="profile" class="page">
    <h2>Your Profile</h2>
    <p id="profile-info">Fill diet section to see your profile data.</p>
  </div>

  <!-- DIET -->
  <div id="diet" class="page">
    <h2>Diet Planner</h2>
    <input type="number" id="weight" placeholder="Weight (kg)">
    <input type="number" id="height" placeholder="Height (cm)">
    <input type="number" id="days" placeholder="Gym Days per Week">
    <select id="goal">
      <option value="bulk">Bulk</option>
      <option value="cut">Cut</option>
      <option value="recomp">Body Recomposition</option>
    </select>
    <button onclick="generateDiet()">Generate Diet</button>
    <div id="diet-plan"></div>
  </div>

  <!-- WORKOUT -->
  <div id="workout" class="page">
    <h2>Workout Planner</h2>
    <select id="split">
      <option value="single">Single Muscle per Day</option>
      <option value="double">Two Muscles per Day</option>
    </select>
    <button onclick="generateWorkout()">Generate Workout</button>
    <div id="workout-plan"></div>
  </div>

  <!-- TRACKER -->
  <div id="tracker" class="page">
    <h2>Calorie & Macro Tracker</h2>
    <input type="text" id="food" placeholder="Enter Food Item">
    <input type="number" id="quantity" placeholder="Quantity (grams)">
    <button onclick="addFood()">Add Food</button>
    <div id="food-list"></div>
    <h3>Total:</h3>
    <p id="totals">Calories: 0 | Protein: 0g | Carbs: 0g | Fats: 0g</p>
  </div>

  <script>
    const foodDB = {
      egg: {cal:155, pro:13, carb:1, fat:11},
      banana: {cal:89, pro:1.1, carb:23, fat:0.3},
      chicken: {cal:165, pro:31, carb:0, fat:3.6},
      rice: {cal:130, pro:2.7, carb:28, fat:0.3},
      paneer: {cal:265, pro:18, carb:8, fat:20},
      fish: {cal:206, pro:22, carb:0, fat:12},
      oats: {cal:389, pro:16.9, carb:66, fat:6.9},
      apple: {cal:52, pro:0.3, carb:14, fat:0.2},
      chapati: {cal:71, pro:3, carb:15, fat:1},
      tofu: {cal:144, pro:16, carb:4, fat:8},
      vegetables: {cal:50, pro:2, carb:10, fat:0.5},
      oliveoil: {cal:884, pro:0, carb:0, fat:100},
      milk: {cal:42, pro:3.4, carb:5, fat:1},
      peanutbutter: {cal:588, pro:25, carb:20, fat:50},
      yogurt: {cal:59, pro:10, carb:3.6, fat:0.4}
    };

    let totals = {cal:0, pro:0, carb:0, fat:0};

    function showPage(pageId) {
      document.querySelectorAll('.page').forEach(p => {
        p.classList.remove("active");
        p.style.display = "none";
      });
      const page = document.getElementById(pageId);
      page.style.display = "block";
      setTimeout(() => page.classList.add("active"), 50);
    }

    function login() {
      let user = document.getElementById("username").value;
      let pass = document.getElementById("password").value;
      if (user && pass) {
        document.getElementById("login-page").style.display = "none";
        document.getElementById("navbar").style.display = "flex";
        showPage("home");
      } else alert("Enter username and password");
    }

    function signup() { login(); }
    function logout() {
      document.getElementById("login-page").style.display = "flex";
      document.getElementById("navbar").style.display = "none";
      document.querySelectorAll('.page').forEach(p => {
        p.style.display = "none";
        p.classList.remove("active");
      });
      totals = {cal:0, pro:0, carb:0, fat:0};
      document.getElementById("food-list").innerHTML="";
      document.getElementById("totals").innerText="Calories: 0 | Protein: 0g | Carbs: 0g | Fats: 0g";
    }

    function generateDiet() {
      let weight = parseInt(document.getElementById("weight").value);
      let height = parseInt(document.getElementById("height").value);
      let days = parseInt(document.getElementById("days").value);
      let goal = document.getElementById("goal").value;
      if(!weight||!height||!days){alert("Please fill all fields");return;}

      let calories = goal==="bulk"?weight*35:goal==="cut"?weight*22:weight*28;
      let protein = weight*2; 
      let fats = (calories*0.25)/9; 
      let carbs = (calories-(protein*4 + fats*9))/4; 

      // Meal split: Breakfast 30%, Lunch 40%, Dinner 30%
      let breakfastCal = calories*0.3;
      let lunchCal = calories*0.4;
      let dinnerCal = calories*0.3;

      // Breakfast: Oats, Eggs, Banana, Milk
      let oatsQty = (breakfastCal*0.4)/foodDB.oats.cal*100;
      let eggsQty = (breakfastCal*0.3)/foodDB.egg.cal*100;
      let bananaQty = (breakfastCal*0.2)/foodDB.banana.cal*100;
      let milkQty = (breakfastCal*0.1)/foodDB.milk.cal*100;

      // Lunch: Chicken, Rice, Vegetables, Olive Oil
      let chickenQty = (lunchCal*0.4)/foodDB.chicken.cal*100;
      let riceQty = (lunchCal*0.3)/foodDB.rice.cal*100;
      let vegQty = (lunchCal*0.2)/foodDB.vegetables.cal*100;
      let oilQty = (lunchCal*0.1)/foodDB.oliveoil.cal*100;

      // Dinner: Fish, Chapati, Tofu, Yogurt
      let fishQty = (dinnerCal*0.35)/foodDB.fish.cal*100;
      let chapatiQty = (dinnerCal*0.25)/foodDB.chapati.cal*100;
      let tofuQty = (dinnerCal*0.25)/foodDB.tofu.cal*100;
      let yogurtQty = (dinnerCal*0.15)/foodDB.yogurt.cal*100;

      document.getElementById("diet-plan").innerHTML = `
        <h3>Total Calories: ${Math.round(calories)} kcal</h3>
        <p>Protein: ${Math.round(protein)}g | Carbs: ${Math.round(carbs)}g | Fats: ${Math.round(fats)}g</p>
        <h4>Meal Plan with Quantities:</h4>
        <ul>
          <li><b>Breakfast:</b> Oats: ${Math.round(oatsQty)}g, Eggs: ${Math.round(eggsQty)}g, Banana: ${Math.round(bananaQty)}g, Milk: ${Math.round(milkQty)}g</li>
          <li><b>Lunch:</b> Chicken: ${Math.round(chickenQty)}g, Rice: ${Math.round(riceQty)}g, Vegetables: ${Math.round(vegQty)}g, Olive Oil: ${Math.round(oilQty)}g</li>
          <li><b>Dinner:</b> Fish: ${Math.round(fishQty)}g, Chapati: ${Math.round(chapatiQty)}g, Tofu: ${Math.round(tofuQty)}g, Yogurt: ${Math.round(yogurtQty)}g</li>
        </ul>`;

      document.getElementById("profile-info").innerText=
        `Weight: ${weight}kg | Height: ${height}cm | Days: ${days} | Goal: ${goal}`;
    }

    function generateWorkout(){
      let split=document.getElementById("split").value;
      let workoutPlan="";
      if(split==="single"){workoutPlan=`...same as before...`;}
      else{workoutPlan=`...same as before...`;}
      document.getElementById("workout-plan").innerHTML=workoutPlan;
    }

    function addFood(){
      let food=document.getElementById("food").value.toLowerCase();
      let quantity=parseFloat(document.getElementById("quantity").value);
      if(!foodDB[food]){
        alert("Food not in database. Available: " + Object.keys(foodDB).join(", "));
        return;
      }
      if(!quantity || quantity<=0){ alert("Enter a valid quantity in grams"); return; }

      let f=foodDB[food];
      let factor = quantity / 100;
      let cal = (f.cal*factor).toFixed(1);
      let pro = (f.pro*factor).toFixed(1);
      let carb = (f.carb*factor).toFixed(1);
      let fat = (f.fat*factor).toFixed(1);

      totals.cal+=parseFloat(cal);
      totals.pro+=parseFloat(pro);
      totals.carb+=parseFloat(carb);
      totals.fat+=parseFloat(fat);

      document.getElementById("food-list").innerHTML+=
        `<p>${food} (${quantity}g) - ${cal} kcal | P: ${pro}g C: ${carb}g F: ${fat}g</p>`;
      document.getElementById("totals").innerText=
        `Calories: ${totals.cal.toFixed(1)} | Protein: ${totals.pro.toFixed(1)}g | Carbs: ${totals.carb.toFixed(1)}g | Fats: ${totals.fat.toFixed(1)}g`;

      document.getElementById("food").value="";
      document.getElementById("quantity").value="";
    }
  </script>
</body>
</html>